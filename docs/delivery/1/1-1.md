# Task 1-1: Add dataflow types

## Description
Add the core data structures needed to support dataflow analysis in the tree-sprawler project, specifically the def-use chain analysis types.

@Back to task list

## Status History
| Timestamp | Event Type | From Status | To Status | Details | User |
|-----------|------------|-------------|-----------|---------|------|
| 2025-06-14 10:00:00 | Created | N/A | Proposed | Initial task creation | system |
| 2025-06-14 10:30:00 | Status Change | Proposed | InProgress | Starting implementation | system |
| 2025-06-14 11:00:00 | Status Change | InProgress | Done | Completed implementation | system |

## Requirements
1. Add DefUseChain class to represent def-use relationships
2. Add DataFlowState class to track the analysis state
3. Add necessary helper methods and properties
4. Ensure types integrate well with existing CFGNode class

## Implementation Plan
1. Create new types in types.py next to builder.py:
   - DefUseChain dataclass
   - DataFlowState dataclass
2. Add helper methods for:
   - Adding/removing definitions and uses
   - Chain construction
   - State manipulation
3. Add type hints and documentation

## Test Plan
1. Unit tests to verify:
   - DefUseChain creation and manipulation
   - DataFlowState operations
   - Integration with CFGNode

2. Test cases:
   ```python
   # Simple def-use
   def test_simple_def_use():
       chain = DefUseChain(
           variable="x",
           definition_node=1,
           use_nodes={2, 3}
       )
       assert chain.variable == "x"
       assert 2 in chain.use_nodes
   
   # State manipulation
   def test_state_manipulation():
       state = DataFlowState()
       state.add_definition("x", 1)
       state.add_use("x", 2)
       assert 1 in state.definitions["x"]
       assert 2 in state.uses["x"]
   ```

## Files Modified
- /home/benjis/Code/tree-sprawler/src/tree_sprawler/dataflow/types.py

## Success Criteria
- [ ] All data structures properly defined with type hints
- [ ] Helper methods implemented and documented
- [ ] Unit tests passing
- [ ] Integration with CFGNode verified
