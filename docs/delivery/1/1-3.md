# Task 1-3: Add def-use chain visualization

## Description
Add visualization support for def-use chains to help developers understand variable usage patterns in their code.

@Back to task list

## Status History
| Timestamp | Event Type | From Status | To Status | Details | User |
|-----------|------------|-------------|-----------|---------|------|
| 2025-06-14 10:00:00 | Created | N/A | Proposed | Initial task creation | system |

## Requirements
1. Create visualization helper for def-use chains
2. Integrate with existing CFG visualization
3. Show def-use relationships clearly
4. Support different visualization formats
5. Make visualization easy to understand

## Implementation Plan
1. Extend visualization module to support def-use chains:
   - Add methods to highlight definitions and uses
   - Show paths between defs and uses
   - Color-code different variables

2. Integrate with graphviz:
   ```python
   def add_def_use_chains(graph: Graph, chains: List[DefUseChain]):
       for chain in chains:
           # Highlight definition node
           graph.node(str(chain.definition_node), style='filled', fillcolor='lightblue')
           
           # Highlight use nodes
           for use in chain.use_nodes:
               graph.node(str(use), style='filled', fillcolor='lightgreen')
               
           # Add edges for def-use relationships
           for use in chain.use_nodes:
               graph.edge(str(chain.definition_node), str(use), 
                        color='blue', label=chain.variable)
   ```

3. Add visualization options:
   - Basic mode: just show def-use edges
   - Detailed mode: show variable values
   - Path highlighting: show paths between defs and uses

## Test Plan
1. Unit Tests:
   ```python
   def test_visualization_creation():
       cfg = build_cfg("x = 5; y = x + 1;")
       analyzer = DefUseAnalysis()
       chains = analyzer.analyze(cfg)
       graph = create_def_use_visualization(cfg, chains)
       assert graph is not None
       # Verify nodes and edges are present
   ```

2. Visual Tests:
   - Simple programs with clear def-use patterns
   - Programs with multiple variables
   - Programs with complex control flow
   - Check readability and clarity

## Files Modified
- /home/benjis/Code/tree-sprawler/src/tree_sprawler/dataflow/visualization.py

## Success Criteria
- [ ] Visualization clearly shows def-use relationships
- [ ] Integrates well with existing CFG visualization
- [ ] Different visualization modes work correctly
- [ ] Output is clear and readable
- [ ] Performance is acceptable for typical code sizes
- [ ] Handles complex cases gracefully
